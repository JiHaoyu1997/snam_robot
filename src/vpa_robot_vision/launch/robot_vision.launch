<launch>
    <arg name="robot_name"/>
    <arg name="width"       default="320"/>
    <arg name="height"      default="240"/>
    <arg name="fps"         default="10"/>
    <arg name="test_mode"   default="False"/>
    <!-- Add an argument for camera_info_url with a default value -->
    <arg name="camera_info_url" default="file://$(find vpa_robot_vision)/config/camera_default.yaml"/>
    
    <node name="robot_cam" pkg="usb_cam" type="usb_cam_node" output="screen">
        <param name="video_device"      value="/dev/video0" />
        <param name="image_width"       value="$(arg width)" />
        <param name="image_height"      value="$(arg height)" />
        <param name="pixel_format"      value="yuyv" />
        <!-- Use the configurable argument for camera_info_url -->
        <param name="camera_info_url"   value="$(arg camera_info_url)"/> 
        <param name="camera_frame_id"   value="base_camera_link" />
        <param name="framerate"         value="$(arg fps)"/>
        <param name="io_method"         value="mmap"/>
    </node>

    <node name="robot_vision" pkg="vpa_robot_vision" type="visual_detector.py" output="screen">
        <param name="robot_name"    value="$(arg robot_name)"/>
        <param name="image_width"   value="$(arg width)"/>
        <param name="image_height"  value="$(arg height)"/>
        <param name="test_mode"     value="$(arg test_mode)"/>
    </node>
</launch>